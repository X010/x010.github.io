---
layout: post
title:  "如何定义数据平台的存储规范"
date:   2019-03-09 00:18:23 +0700
categories: [bigdata]
---

#### 概述
  通常我们管理数据平台的存储规范，主要是针对日志的归档进行管理，下面给出简单的规范定义。
  
#### 数据存储规范
##### 目录生命周期  
  
  ![collect_lift_1](/static/img/post/strage_lift.jpg){:height="320" width="720"}  
  
##### 目录状态定义     
  测试状态：测试状态，测试状态原始数据一侓保留3天  
  上线状态：上线状态，所有上线状态的数据，必须进行生命周期管理  
  下线状态：下线状态，对于下线的数据目录，以下线日期起保留30天后进行原始数据归档或删除   
  
##### 目录使用规范  
  第一层：类型层，用于明确相关日志的大类，如原始日志，中间日志，数据仓库  
  第二层:  业务层，用于明确日志业务或主题    
  第三层(可选层)：时间层，用于明确时间 可扩展如  YYYY/MM/DD/HOUR   
  第四层(可选层)：自定义层，在时间层下面可以进行其它分区扩展  
  
  
##### 日志等级定义  
  核心日志:用于计算公司核心标指数据及影响到收入、成本结算的数据  
  重要日志:凡进入数仓的数据及用于计算相关KPI数据及产品、技术、运营数据支撑的数据  
  一般日志:用于临时数据分析的日志及监控类相关日志  
  垃圾日志:误报数据  
  
##### 日志归档等级  
  数据量化标准，数据分为4层  
  热：应用查询90天内 >1W次  
  温：查询90天内 [101,1W]  
  冷：查询90天内 [1，100]  
  冰：查询90天内0次  
  
##### 标准归档闭环  
  
  ![collect_lift_2](/static/img/post/strage_lift_2.png){:height="320" width="720"}  
  
     