---
layout: post
title:  "数据分析之路留存分析模型"
date:   2019-07-05 00:18:23 +0700
categories: [bigdata]
---

#### 概述
  在流量越来越贵背景下，留住老用户显得愈发重要，对于用户而言，留存率越高，说明产品对用户的核心需求把握的越好，用户对产品产生强烈的依赖。对于产品而言，留存率越高，说明产品的活跃用户越多，转化为忠实用户的比例会越大，越有利于产品变现能力的提升。  
  
#### 留存定义和公式  
```aidl
定义：满足某个条件的用户，在某个时间点有没有进行回访行为 
公式：若满足某个条件的用户数为n，在某个时间点进行回访行为的用户数为m，那么该时间点的留存率就是m/n  
```
  以我们常用的指标举个例子：“新增用户日留存”，就是某天新来的用户，第二天打开app或网站的比例，第三天打开app或网站的比例，第七天打开app或网站的比例，第N天打开app或网站的比例。  
  
  ![collect_model_5_1](/static/img/post/b_a_m_5_1.jpg){:height="320" width="720"} 
  
  
  这一指标就是N-day留存，即第几日留存，这里的“日”可以是“周”，也可以是“月”，大家现在普遍认识的用户留存，一般都是“N-day”留存了。  
  除了N-day留存，业内常见的留存分析方式还有“Unbounded留存”、“Bracket留存”，这3类留存的区别就在于时间条件的差异，具体关注哪种留存，需要根据业务来定。  
  -Unbounded留存（N天内留存）  
  Unbounded留存就是我们常说第N日内留存，N-day留存是只计算第N天完成回访行为的用户，Unbounded留存会累计计算N天内所有完成过回访行为的用户。  
  -Bracket留存 （自定义观察期留存）  
  N-day留存和Unbounded留存都是按照独立的天/周/月为观察单位计算，但有时候我们不希望受限于这种固定时间度量，我们希望划分为几个观察期，比如现在默认一个观察期就是一天或者一周或者一个月，但有时候，我们可能会这样划分。  
```aidl
第一个观察期：次日  
第二个观察期：第3日-第7日  
第三个观察期：第8日-第14日  
第四个观察期：第15日到第30日  
```
  
  以电商类产品为例，4月9号新增用户的第三天留存就是4月12日进入产品的用户比例，即N-day留存；4月10号、4月11号和4月12日3天中任意一天进入产品的去重用户比例，即Unbounded留存；如果自定义一个观察期，比如第第3日-第7日的留存就是4月12日-4月16日的中任意一天进入产品的去重用户比例，即Bracket留存。  
  
#### 自定义留存  
  上述三种留存方式，都是对时间的限定，对留存的定义都是用户打开了APP或进入了网站。而越来越多的产品开始关注自定义留存，因为他们更想知道基于自己业务场景下用户的留存情况。比如阅读类产品会把看过至少一篇文章的用户定义为真正的留存用户，电商类产品会把至少查看过一次商品详情定义为有效留存。所以，对留存的行为有了自定义。  
  
  
   ![collect_model_5_2](/static/img/post/b_a_m_5_2.jpg){:height="320" width="720"} 
  
  
  
   -初始行为：初始与回访是相对的概念。  
   -回访行为：与初始行为的设定是并且关系。用户的初始行为可以理解为上一次行为，回访行为即理解为下一次行为。  
   对初始行为和回访行为的设定本质上是在进一步筛选用户群。在滴滴的一次增长分享会曾提到过“抢了红包的用户后来打了车的日留存”，即初始行为是抢了红包，回访行为是打了车。“抢了红包的用户打了车的3日留存”即初始行为是抢了红包，回访行为是打车，看这部分人的第三天留存。  
   
#### 场景举例  
   签到是一个非常古老的功能，过去在一些社区平台也比较常见，但发现，越来越多的产品又开始有了这个功能，甚至一些金融产品。签到的核心是通过培养用户的登录习惯，延长用户的生命周期。（当然，签到功能也会和积分等其他可兑换的奖励所绑定），而签到功能本身，就是一个纯粹的为了提升用户回访的功能，这一功能到底有没有吸引用户回访，用自定义留存分析功能再合适不过了。  
   假设这一功能是面向所有用户，当然，你也可以去看目标用户群的留存情况。  
   初始行为：任意行为  
   回访行为：签到成功  
   
   
   ![collect_model_5_3](/static/img/post/b_a_m_5_3.jpg){:height="320" width="720"} 
   
   
   从上图可以看出，签到功能带来了很好的用户粘性。很多用户回访都会触发签到功能，功能价值得以衡量和提现。  
   随着用户规模的饱和，获客成本大幅提高，用户可能因为一点不爽分分钟就卸载掉你的应用，此时提高留存就显得尤为重要，因为不管是花费在金钱还是资源上的成本都会更低，留存已成为检验产品的重要指标，自定义留存模型，通过更灵活的行为和时间条件的设置，让留存指标更精细化，让运营策略更聚焦，更有效。  
   
